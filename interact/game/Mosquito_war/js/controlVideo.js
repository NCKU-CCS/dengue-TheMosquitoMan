function canplayHandler(){console.log("start opening video"),this.style.display="block",this.style.zIndex=1,this.style.opacity=1,GAME.VIDEO.skip_btn.style.display="block",loadAllVideo(),loadAllAudio(),console.log("All Audio and Video Loading Over!!"),GAME.VIDEO.opening.removeEventListener("canplay",canplayHandler,!1)}function playVideo(e,n){Q.state.set("video_num",n),Q.state.set("is_video_over",!1),Q.audio.play("change_scene.mp3"),Q("MosAttack").trigger("disappear"),Q("Power").trigger("disappear"),e.style.display="block",e.style.zIndex=1,e.style.opacity=1,GAME.ADD.quintus_container.style.zIndex=-1,GAME.VIDEO.skip_btn.style.display="block",stageStop(),hiddenBar(),e.play()}function loadAllVideo(){function e(e){e.style.display="none",e.style.zIndex=0,e.style.opacity=0,GAME.ADD.quintus_container.style.zIndex=1,GAME.VIDEO.skip_btn.style.display="none",(e===GAME.VIDEO.fight||e===GAME.VIDEO.mosking_appear)&&showBar(),Q.stage().paused=!1,Q.state.set("is_video_over",!0)}GAME.VIDEO.videoArray.forEach(function(n,i){n.load(),n.addEventListener("ended",function(){e(this),0===i?(Q.stageScene("countdown"),Q.state.set("is_countdown_over",!1),playBGM(bgm_level1,1)):1===i&&(Q.stageScene("countdown"),Q.state.set("is_countdown_over",!1),playBGM(bgm_mosking))})})}!function(){GAME.VIDEO.videoArray.push(GAME.VIDEO.fight),GAME.VIDEO.videoArray.push(GAME.VIDEO.mosking_appear),GAME.VIDEO.videoArray.push(GAME.VIDEO.winnerB),GAME.VIDEO.videoArray.push(GAME.VIDEO.winnerA),GAME.VIDEO.videoArray.push(GAME.VIDEO.winnerS),GAME.VIDEO.skip_btn.addEventListener("mouseover",function(){GAME.VIDEO.skip_btn.innerHTML="SKIP"}),GAME.VIDEO.skip_btn.addEventListener("mouseout",function(){GAME.VIDEO.skip_btn.innerHTML="тед"}),GAME.VIDEO.skip_btn.addEventListener("click",function(){if(GAME.VIDEO.isOpening)GAME.VIDEO.opening.currentTime=GAME.VIDEO.opening.duration;else{var e=Q.state.get("video_num");GAME.VIDEO.videoArray[e-1].currentTime=GAME.VIDEO.videoArray[e-1].duration}}),GAME.VIDEO.opening.addEventListener("canplay",canplayHandler,!1),GAME.VIDEO.opening.addEventListener("ended",function(){this.style.display="none",this.style.zIndex=0,this.style.opacity=0,GAME.ADD.quintus_container.style.zIndex=1,GAME.VIDEO.skip_btn.style.display="none",GAME.VIDEO.isOpening=!1,playBGM(bgm_opening,1),console.log("video_opening_ended")},!1)}();